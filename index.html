<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/SoftwareApplication">
<head>
  <meta charset="UTF-8">
  <title>Merge PDF // SYSTEM_VIKRAM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="Secure, client-side PDF merger for professionals. Combine, reorder, and compress corporate documents without server uploads.">
  <meta name="keywords" content="merge pdf, secure pdf tool, client-side pdf merger, corporate document management, pdf combiner, legal tech, no-upload pdf tool, vikram pdf system">
  <meta name="author" content="Vikram Kumar Sinha">
  <meta name="robots" content="index, follow">
  <meta name="application-name" content="Merge PDF // System_Vikram">

  <meta property="og:title" content="Merge PDF // SYSTEM_VIKRAM">
  <meta property="og:type" content="website">
  <meta property="og:description" content="Advanced, browser-based PDF compilation system. Zero data leakage.">
  <meta property="og:site_name" content="System_Vikram">

  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%2306b6d4'/%3E%3Cstop offset='100%25' stop-color='%23d946ef'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect x='20' y='20' width='60' height='70' rx='5' fill='none' stroke='url(%23grad)' stroke-width='4'/%3E%3Cpath d='M35 20 L35 10 L85 10 L85 70 L80 70' fill='none' stroke='rgba(6, 182, 212, 0.5)' stroke-width='4'/%3E%3Crect x='35' y='40' width='30' height='4' fill='%2306b6d4'/%3E%3Crect x='35' y='55' width='30' height='4' fill='%2306b6d4'/%3E%3Ccircle cx='70' cy='80' r='10' fill='%23d946ef'/%3E%3C/svg%3E">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">

  <style>
    :root {
      /* Palette: Deep Navy, Cyan, Purple */
      --bg-core: #0f172a; 
      --bg-panel: rgba(30, 41, 59, 0.7);
      --text-main: #e2e8f0;
      --text-muted: #94a3b8;
      --primary: #06b6d4; /* Cyan */
      --secondary: #d946ef; /* Fuchsia */
      --border: #334155;
      --glow: rgba(6, 182, 212, 0.5);
    }

    * { box-sizing: border-box; }

    body {
      font-family: 'Rajdhani', sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--bg-core);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow-x: hidden;
      
      /* Futuristic Grid Background */
      background-image: 
        linear-gradient(rgba(6, 182, 212, 0.05) 1px, transparent 1px),
        linear-gradient(90deg, rgba(6, 182, 212, 0.05) 1px, transparent 1px);
      background-size: 40px 40px;
    }

    /* Scanline Effect */
    body::after {
      content: "";
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.1) 51%);
      background-size: 100% 4px;
      pointer-events: none;
      z-index: 999;
      opacity: 0.3;
    }

    .container {
      width: 100%;
      max-width: 850px;
      padding: 2rem;
      position: relative;
      z-index: 10;
    }

    /* Header */
    h1 {
      font-family: 'Orbitron', sans-serif;
      text-transform: uppercase;
      letter-spacing: 4px;
      text-align: center;
      color: var(--primary);
      text-shadow: 0 0 15px var(--glow);
      margin-bottom: 0.5rem;
    }

    .subtitle {
      text-align: center;
      color: var(--text-muted);
      font-size: 1.1rem;
      letter-spacing: 1.5px;
      margin-bottom: 3rem;
      text-transform: uppercase;
    }

    /* Main Interface Panel */
    .hud-panel {
      background: var(--bg-panel);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 2rem;
      box-shadow: 0 0 30px rgba(0,0,0,0.3);
      position: relative;
    }

    /* Decorative HUD corners */
    .hud-panel::before, .hud-panel::after {
      content: '';
      position: absolute;
      width: 20px; height: 20px;
      border: 2px solid var(--primary);
      transition: all 0.3s ease;
    }
    .hud-panel::before { top: -1px; left: -1px; border-right: none; border-bottom: none; }
    .hud-panel::after { bottom: -1px; right: -1px; border-left: none; border-top: none; }

    /* Drop Zone */
    #dropZone {
      border: 2px dashed var(--border);
      border-radius: 4px;
      padding: 40px;
      text-align: center;
      background: rgba(15, 23, 42, 0.5);
      transition: all 0.3s ease;
      cursor: pointer;
      margin-bottom: 1.5rem;
      position: relative;
      overflow: hidden;
    }

    #dropZone:hover, #dropZone.dragover {
      border-color: var(--primary);
      box-shadow: inset 0 0 20px var(--glow);
      color: var(--primary);
    }

    #dropZone span {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      letter-spacing: 1px;
    }

    input[type="file"] { display: none; }

    /* File List */
    ul.file-list {
      list-style: none;
      padding: 0;
      margin: 1rem 0 2rem 0;
      min-height: 10px;
    }

    .file-item {
      background: rgba(255, 255, 255, 0.03);
      border-left: 3px solid var(--border);
      padding: 12px 20px;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: grab;
      transition: all 0.2s;
      font-family: 'Rajdhani', sans-serif;
      font-weight: 500;
    }

    .file-item:hover {
      background: rgba(255, 255, 255, 0.06);
      border-left-color: var(--secondary);
    }

    .file-item.dragging { opacity: 0.4; }

    .file-name {
      color: var(--text-main);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 60%;
    }

    /* Small Action Buttons */
    .file-actions button {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text-muted);
      width: 30px; height: 30px;
      margin-left: 5px;
      cursor: pointer;
      transition: all 0.2s;
      font-family: 'Orbitron', monospace;
      font-size: 0.8rem;
    }

    .file-actions button:hover {
      color: var(--primary);
      border-color: var(--primary);
      box-shadow: 0 0 8px var(--glow);
    }
    
    .file-actions .remove-btn:hover {
      color: #ef4444; /* Red */
      border-color: #ef4444;
      box-shadow: 0 0 8px rgba(239, 68, 68, 0.5);
    }

    /* Form Inputs */
    .meta-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      margin-top: 1rem;
    }

    .input-group {
      display: flex;
      flex-direction: column;
    }

    label {
      font-size: 0.8rem;
      text-transform: uppercase;
      color: var(--primary);
      margin-bottom: 0.5rem;
      letter-spacing: 1px;
    }

    input[type="text"], input[type="date"] {
      background: rgba(15, 23, 42, 0.8);
      border: 1px solid var(--border);
      color: var(--text-main);
      padding: 12px;
      font-family: 'Rajdhani', monospace;
      font-size: 1rem;
      border-radius: 2px;
      outline: none;
      transition: all 0.3s;
    }

    input[type="text"]:focus, input[type="date"]:focus {
      border-color: var(--secondary);
      box-shadow: 0 0 10px rgba(217, 70, 239, 0.3);
    }

    /* Checkbox Styling */
    .checkbox-wrapper {
      margin-top: 1.5rem;
      display: flex;
      align-items: center;
      cursor: pointer;
    }
    
    .checkbox-wrapper input {
      margin-right: 10px;
      accent-color: var(--primary);
      width: 18px; height: 18px;
    }

    /* Merge Button */
    #mergeBtn {
      display: block;
      width: 100%;
      margin-top: 2.5rem;
      padding: 1.2rem;
      background: var(--primary);
      color: #000;
      border: none;
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: 1.1rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      cursor: pointer;
      /* Angled Corners */
      clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
      transition: all 0.3s;
    }

    #mergeBtn:hover {
      background: #22d3ee;
      box-shadow: 0 0 20px var(--glow);
      transform: translateY(-2px);
    }

    /* Footer */
    .footer {
      margin-top: 3rem;
      font-size: 0.75rem;
      color: var(--border);
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    /* Loading Overlay */
    .processing-overlay {
      display: none;
      position: fixed;
      top:0; left:0; width:100%; height:100%;
      background: rgba(15, 23, 42, 0.9);
      z-index: 1000;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }
    
    .loader {
      width: 50px; height: 50px;
      border: 3px solid transparent;
      border-top-color: var(--primary);
      border-bottom-color: var(--secondary);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin { 100% { transform: rotate(360deg); } }

    @media (max-width: 600px) {
      .meta-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

  <div id="processingOverlay" class="processing-overlay">
    <div class="loader"></div>
    <p style="margin-top:20px; letter-spacing:2px; color:var(--primary);">PROCESSING DATA STREAM...</p>
  </div>

  <div class="container">
    <h1>Merge PDF // Vikram</h1>
    <p class="subtitle">System Status: Ready for Input</p>

    <div class="hud-panel">
      
      <div id="dropZone">
        <span>[ DRAG MODULES HERE ]</span>
        <br><br>
        <span style="font-size: 0.8rem; color: var(--text-muted);">OR CLICK TO INITIATE UPLOAD PROTOCOL</span>
      </div>
      <input type="file" id="pdfInput" multiple accept="application/pdf">

      <ul id="fileList" class="file-list"></ul>

      <form id="metaForm">
        <div class="meta-grid">
          <div class="input-group">
            <label for="fullName">File Name</label>
            <input type="text" id="fullName" placeholder="Ex: JohnDoe" required>
          </div>

          <!-- <div class="input-group">
            <label for="location">Geo-Location</label>
            <input type="text" id="location" placeholder="Ex: NY_Sector7" required>
          </div>

          <div class="input-group">
            <label for="fromDate">Cycle Start (From)</label>
            <input type="date" id="fromDate">
          </div>

          <div class="input-group">
            <label for="toDate">Cycle End (To)</label>
            <input type="date" id="toDate">
          </div>
        </div> -->

        <label class="checkbox-wrapper">
          <input type="checkbox" id="compress">
          <span style="color: var(--text-muted); font-size: 0.9rem; letter-spacing: 1px;">ENABLE COMPRESSION ALGORITHM</span>
        </label>
      </form>

      <button id="mergeBtn">Initialize Merge Sequence</button>
    </div>

    <div class="footer">
      System.Vikram © 2025 // Secure Connection Established
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
  <script>
    const pdfInput = document.getElementById('pdfInput');
    const dropZone = document.getElementById('dropZone');
    const fileList = document.getElementById('fileList');
    const mergeBtn = document.getElementById('mergeBtn');
    const compressCheckbox = document.getElementById('compress');
    const overlay = document.getElementById('processingOverlay');

    let pdfFiles = [];

    // Trigger File Input on DropZone Click
    dropZone.addEventListener('click', () => pdfInput.click());

    pdfInput.addEventListener('change', () => {
      pdfFiles = pdfFiles.concat(Array.from(pdfInput.files));
      renderFileList();
    });

    dropZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropZone.classList.add('dragover');
      dropZone.style.borderColor = 'var(--secondary)';
    });

    dropZone.addEventListener('dragleave', () => {
      dropZone.classList.remove('dragover');
      dropZone.style.borderColor = 'var(--border)';
    });

    dropZone.addEventListener('drop', (e) => {
      e.preventDefault();
      dropZone.classList.remove('dragover');
      dropZone.style.borderColor = 'var(--border)';
      const dropped = Array.from(e.dataTransfer.files).filter(f => f.type === 'application/pdf');
      pdfFiles = pdfFiles.concat(dropped);
      renderFileList();
    });

    function renderFileList() {
      fileList.innerHTML = '';
      pdfFiles.forEach((file, index) => {
        const li = document.createElement('li');
        li.className = 'file-item';
        li.draggable = true;

        li.addEventListener('dragstart', () => {
          li.classList.add('dragging');
          li.dataset.index = index;
        });

        li.addEventListener('dragend', () => {
          li.classList.remove('dragging');
        });

        li.addEventListener('dragover', (e) => {
          e.preventDefault();
          const draggingEl = document.querySelector('.dragging');
          if (draggingEl && draggingEl !== li) {
            const fromIndex = parseInt(draggingEl.dataset.index);
            const toIndex = index;
            const moved = pdfFiles.splice(fromIndex, 1)[0];
            pdfFiles.splice(toIndex, 0, moved);
            renderFileList();
          }
        });

        const name = document.createElement('div');
        name.className = 'file-name';
        name.textContent = file.name;

        const actions = document.createElement('div');
        actions.className = 'file-actions';

        const up = document.createElement('button');
        up.textContent = '▲';
        up.onclick = (e) => {
          e.stopPropagation();
          if (index > 0) {
            [pdfFiles[index], pdfFiles[index - 1]] = [pdfFiles[index - 1], pdfFiles[index]];
            renderFileList();
          }
        };

        const down = document.createElement('button');
        down.textContent = '▼';
        down.onclick = (e) => {
          e.stopPropagation();
          if (index < pdfFiles.length - 1) {
            [pdfFiles[index], pdfFiles[index + 1]] = [pdfFiles[index + 1], pdfFiles[index]];
            renderFileList();
          }
        };

        const remove = document.createElement('button');
        remove.className = 'remove-btn';
        remove.textContent = 'X';
        remove.onclick = (e) => {
          e.stopPropagation();
          pdfFiles.splice(index, 1);
          renderFileList();
        };

        actions.append(up, down, remove);
        li.append(name, actions);
        fileList.appendChild(li);
      });
    }

    mergeBtn.addEventListener('click', async () => {
      if (pdfFiles.length === 0) {
        alert("SYSTEM ERROR: No Input Modules Detected.");
        return;
      }

      const fullName = document.getElementById('fullName').value.trim().replace(/\s+/g, '');
      const location = document.getElementById('location').value.trim().replace(/\s+/g, '');
      const fromDate = document.getElementById('fromDate').value.trim().replace(/\s+/g, '');
      const toDate = document.getElementById('toDate').value.trim().replace(/\s+/g, '');

      if (!fullName || !location) {
        alert("SYSTEM ALERT: Identity and Location parameters are mandatory.");
        return;
      }

      // Show Overlay
      overlay.style.display = 'flex';

      // Slight delay to allow UI to update
      setTimeout(async () => {
        try {
          let fileName = `${fullName}-${location}`;
          if (fromDate) fileName += `-${fromDate}`;
          if (toDate) fileName += `-${toDate}`;

          const mergedPdf = await PDFLib.PDFDocument.create();
          const compress = compressCheckbox.checked;

          for (const file of pdfFiles) {
            const buffer = await file.arrayBuffer();
            const pdf = await PDFLib.PDFDocument.load(buffer);
            const pages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());

            pages.forEach(page => {
              if (compress) page.scaleContent(0.8, 0.8);
              mergedPdf.addPage(page);
            });
          }

          const bytes = await mergedPdf.save();
          const blob = new Blob([bytes], { type: 'application/pdf' });
          const url = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = url;
          a.download = `${fileName}.pdf`;
          a.click();
          URL.revokeObjectURL(url);
        } catch (error) {
          alert("CRITICAL ERROR: Processing failed.");
          console.error(error);
        } finally {
          overlay.style.display = 'none';
        }
      }, 500);
    });
  </script>

</body>
</html>
